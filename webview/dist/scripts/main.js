var home=function(t,a,e){"use strict";var i={init:function(){this.flightData=this.getFlightData(),this.parseDepartureTime(),this.compileHandlebarsTemplate(),this.checkFlightStatus(),this.createCouponStorage()},getFlightData:function(){var t={flight:{flightNo:70,airlineCode:"AC",departure:"2015-06-02T12:00",arrival:"2015-06-04T13:45",boarding:"2015-06-02T11:40",startingAirport:"BOS",destinationAirport:"YYZ",startingCity:"Boston",destinationCity:"Toronto",flightStatus:"On Time",startingGate:1,destinationGate:1},coupon:{id:1,path:"images/starbucks-coupon.png",offer:"1 Free Starbucks Coffee",description:"Redeem this coupon at any Starbucks Coffee location at Logan International Airport."}};return t},compileHandlebarsTemplate:function(){var a=t("#current-flight-tmpl").html(),e=Handlebars.compile(a),i=e(this.flightData);t(".current-flight").append(i)},parseDepartureTime:function(){this.flightData.flight.departureTime=moment(this.flightData.flight.departure).calendar(new Date)},checkFlightStatus:function(){var a=t(".current-flight-departure"),e=t(".current-flight-status");"On Time"===this.flightData.flight.flightStatus?(a.addClass("success"),e.addClass("success")):"Delayed"===this.flightData.flight.flightStatus?(a.addClass("failure"),e.addClass("failure")):"Changed"===this.flightData.flight.flightStatus&&(a.addClass("failure"),e.addClass("failure"))},createCouponStorage:function(){localStorage.getItem("coupons")||localStorage.setItem("coupons",JSON.stringify([]))}};return i}(jQuery,window,document),flightDetails=function(t,a,e){"use strict";var i={init:function(){this.flightData=this.getFlightData(),this.parseFlightDate(),this.parseFlightTimes(),this.compileHandlebarsTemplate(),this.checkFlightStatus(),this.checkCouponStatus(),this.saveCouponButtonListener()},getFlightData:function(){var t={flight:{flightNo:70,airlineCode:"AC",departure:"2015-06-02T12:00",arrival:"2015-06-04T13:45",boarding:"2015-06-02T11:40",startingAirport:"BOS",destinationAirport:"YYZ",startingCity:"Boston",destinationCity:"Toronto",flightStatus:"On Time",startingGate:1,destinationGate:1},coupon:{id:1,path:"images/starbucks-coupon.png",offer:"1 Free Starbucks Coffee",description:"Redeem this coupon at any Starbucks Coffee location at Logan International Airport."}};return t},compileHandlebarsTemplate:function(){var a=t("#flight-details-tmpl").html(),e=Handlebars.compile(a),i=e(this.flightData);t(".main-container").append(i)},parseFlightDate:function(){this.flightData.flight.flightDate=moment(this.flightData.flight.departure).format("ddd, MMM DD YYYY")},parseFlightTimes:function(){this.flightData.flight.departureTime=moment(this.flightData.flight.departure).format("HH:mm"),this.flightData.flight.arrivalTime=moment(this.flightData.flight.arrival).format("HH:mm"),this.flightData.flight.boardingTime=moment(this.flightData.flight.boarding).format("HH:mm")},checkFlightStatus:function(){var a=t(".flight-status");"On Time"===this.flightData.flight.flightStatus?a.addClass("success"):"Delayed"===this.flightData.flight.flightStatus?a.addClass("failure"):"Changed"===this.flightData.flight.flightStatus&&a.addClass("failure")},checkCouponStatus:function(){var a=t(".coupon-saved-area"),e=t(".coupon-area"),i=JSON.parse(localStorage.getItem("coupons"))||"";i.length?(e.hide(),a.show()):(e.show(),a.hide())},saveCouponButtonListener:function(){var a=this,e=t(".coupon-save-btn"),i=t(".coupon-saved-area"),o=t(".coupon-area");e.on("click",function(){var t=JSON.parse(localStorage.getItem("coupons"));o.hide(),i.show(),t.push(a.flightData),localStorage.setItem("coupons",JSON.stringify(t))})}};return i}(jQuery,window,document),couponList=function(t,a,e){"use strict";var i={init:function(){this.couponData={},this.couponData.coupons=JSON.parse(localStorage.getItem("coupons"))||"",this.compileHandlebarsTemplate()},compileHandlebarsTemplate:function(){var a=t("#coupon-list-tmpl").html(),e=Handlebars.compile(a),i=e(this.couponData);t(".coupon-list-container").append(i)}};return i}(jQuery,window,document),couponDetails=function(t,a,e){"use strict";var i={init:function(){this.couponData=JSON.parse(localStorage.getItem("coupons"))||"",this.getCouponDetails(),this.parseFlightDate(),this.compileHandlebarsTemplate()},getCouponDetails:function(){this.getQueryString("id");this.couponDetails=this.couponData[0]},getQueryString:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a=new RegExp("[\\?&]"+t+"=([^&#]*)"),e=a.exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},parseFlightDate:function(){this.couponDetails.flight.flightDate=moment(this.couponDetails.flight.departure).format("ddd, MMM DD YYYY")},compileHandlebarsTemplate:function(){var a=t("#coupon-details-tmpl").html(),e=Handlebars.compile(a),i=e(this.couponDetails);t(".coupon-details-container").append(i)}};return i}(jQuery,window,document),admin=function(t,a,e){"use strict";var i={init:function(){this.resetCouponButtonListener()},resetCouponButtonListener:function(){t(".clear-coupons-btn").on("click",function(){localStorage.removeItem("coupons"),alert("Saved coupons have been cleared")})}};return i}(jQuery,window,document);